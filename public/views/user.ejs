<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Project</title>

    <!-- LINK TO BOOTSTRAP  AND STYLESHEET -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    <link href="/css/style.css" rel="stylesheet"></link>

    <!-- NAVBAR -->
    <%- include('partials/navbar') %>
    
    <br><br><br><br><br>
    <div class="login_container">
      <div class="icon-item" id="dynamicSection"></div>
    </div>
</head >
<body>
  <div class="footer">
    <p>L.Liu @2023</p>
  </div>
  <script src="/js/commonscript.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <script>
      document.addEventListener('DOMContentLoaded', (event) => {
            const usernameDisplay = document.getElementById('usernameDisplay');
            const editProfile = document.getElementById('editProfile');
            const dynamicSection = document.getElementById('dynamicSection');
            let username = localStorage.getItem('username');
            if (username) {
                  usernameDisplay.textContent = 'Welcome ' + username;
            }
            if (editProfile) {
                  editProfile.addEventListener('click', function() {
                        window.location.href = '/update';
                  });
            }
            if (username === 'Admin' || username === 'Waiter') {
                  dynamicSection.innerHTML = `
                  <div class="icon-container">
                    <div class="icon-item">
                      <img src="/images/items.png" alt="Add Menus">
                      <span class="icon-text" id="addMenus">Add Menus</span>
                    </div>
                    <div class="icon-item">
                      <img src="/images/items.png" alt="Modify Menus">
                      <span class="icon-text" id="modifyMenus">Modify Menus</span>
                    </div>
                    <div class="icon-item">
                      <img src="/images/list.svg" alt="List all Reservations">
                      <span class="icon-text" id="listResas">List of Reservations</span>
                    </div>
                  </div>`;

                  const addMenus = document.getElementById('addMenus');
                  if (addMenus) {
                        addMenus.addEventListener('click', function() {
                            window.location.href = '/additems'; 
                        });
                  }
                  const modifyMenus = document.getElementById('modifyMenus');
                  if (modifyMenus) {
                        modifyMenus.addEventListener('click', function() {
                              window.location.href = '/modifyitems'; 
                        });
                  }
                  const listResas = document.getElementById('listResas');
                  if (listResas) {
                        listResas.addEventListener('click', function() {
                              window.location.href = '/listresas'; 
                        });
                  }
            } else {
                  window.location.href = '/reservation';
                  // dynamicSection.innerHTML = '<img src="/images/RestaurantTable.svg" alt="Table Reservation"><span class="icon-text" id="reserveTable">Reservation</span>';
                  // const reserveTable = document.getElementById('reserveTable');
                  // if (reserveTable) {
                  //       reserveTable.addEventListener('click', function() {
                  //             window.location.href = '/reservation';
                  //       });
                  // }
            }
      });
  </script>
</body>
</html>